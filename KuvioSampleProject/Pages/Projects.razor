@page "/projects"
@inherits ProjectsBase
@inject NavigationManager Navigation

<h1>Projects</h1>
<button type="button" class="btn btn-primary" id="add-project-btn" aria-label="Add" @onclick="@GoToAddProject">Add Project</button>
<br />
<br />
@if (Projects == null)
{
    <div class="spinner"></div>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <td>Id</td>
                <td>Title</td>
                <td>Description</td>
                <td>Customer</td>
                <td>Deadline</td>
                <td>Complete</td>
                <td></td>
                <td></td>
            </tr>
        </thead>
        <tbody>
            @foreach (var project in Projects)
            {
                <tr>
                    <td>@project.Id</td>
                    <td>@project.Title</td>
                    <td>@project.Description</td>
                    <td>@project.Customer</td>
                    <td>@project.Deadline.ToString("d")</td>
                    <td>@project.Complete</td>

                    <td><a href="projects/@project.Id">Edit</a></td>
                    <td><button class="btn btn-primary" id="delete-project-btn" aria-label="Delete" @*@onclick="@(e=>@HandleDelete(project.Id))" *@>Delete</button></td>
                </tr>

            }
        </tbody>
    </table>
}

@code {
    public void GoToAddProject()
    {
        Navigation.NavigateTo("projects/0");
    }
}
